pipeline {
    agent any

    stages {
        // stage('Build') {
        //     steps {
        //         echo 'Building the application ...'
        //     }
        // }
        // stage('Test') {
        //     steps {
        //         echo 'Testing the application'
        //     }
        // }
        // stage('Deploy') {
        //     steps {
        //         echo 'Deploying the application'
        //     }
        // }
        // stage('Jenkins Python code')
        // {
        //     steps {
        //         bat 'python ops.py'

        //     }
        // }
        stage('python test'){
            steps{
                // bat 'python -m pytest'
                bat 'python unit-test.py'
            }
        }
        
    }
    post{
        always{
            echo "Hi Gaurav, Email from pipeline"
        }
        success{

            echo "pipeline execution passed "

            mail to : "gauravdeshmukh7083@gmail.com",

            subject : "Pipeline Completed",

            body : "Pipeline Completetd "

        }

        failure{

            echo "pipeline execution failed"

            mail to : "gauravdeshmukh7083@gmail.com",

            subject : "Pipeline Failed",

            body : "Pipeline Failed"

        }
    }
}
